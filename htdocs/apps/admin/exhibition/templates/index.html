<div ng-controller="programmationMenu">
    <div ng-include src="template.url"></div>
</div>
<h1 class="text-center">Lista de exhibiciones</h1>

<div data-search
     data-url="searchUrl">
</div>

<pagination items-per-page="pagination.per_page"
            total-items="pagination.total"
            data-ng-model="pagination.current_page"
            data-ng-change="pageChanged()">
</pagination>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>ID</th>
            <th>Título</th>
            <th>Director</th>
            <th>Años</th>
            <th>Portada</th>
            <th>Creada (Sistema)</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        <tr data-ng-repeat="exhibition in exhibitions track by $id(exhibition)">
            <td>{{ exhibition.exhibition_film.film.id }}</td>
            <td>{{ exhibition.exhibition_film.film.title }}</td>
            <td>{{ exhibition.exhibition_film.film.director }}</td>
            <td>{{ exhibition.exhibition_film.film.years | join: ', ' }}</td>
            <td>
                <img class="thumbnail img-responseive image-size-thumbnail"
                     data-ng-src="{{ exhibition.exhibition_film.film.cover.thumbnail }}">
            </td>
            <td>{{ exhibition.created_at }}</td>
            <td>
                <a class="btn btn-info navbar-btn" data-ng-href="#/exhibitions/edit/{{exhibition.id}}">Editar</a>
                <a class="btn btn-danger navbar-btn" data-ng-click="destroy($index)">Delete</a>
                <a class="btn btn-success navbar-btn" data-ng-href="/exhibition/{{exhibition.id}}/detail-history">Detalles</a>
            </td>
        </tr>
    </tbody>
</table>

<pagination items-per-page="pagination.per_page"
            total-items="pagination.total"
            data-ng-model="pagination.current_page"
            data-ng-change="pageChanged()">
</pagination>
